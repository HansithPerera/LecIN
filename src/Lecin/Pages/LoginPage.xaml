<?xml version="1.0" encoding="utf-8"?>
<pages:BaseContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                       xmlns:pageModels="clr-namespace:Lecin.PageModels"
                       xmlns:lecin="clr-namespace:Lecin"
                       xmlns:pages="clr-namespace:Lecin.Pages"
                       x:DataType="pageModels:LoginPageModel"
                       x:Class="Lecin.Pages.LoginPage">

    <ContentPage.Content>
        <Grid>
            
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            
            <Border Grid.Row="0"
                    Grid.ColumnSpan="3"
                    Padding="12"
                    StrokeThickness="0"
                    BackgroundColor="#FFF4CE"   
                IsVisible="{Binding ShowMaintenance}">
                <Label Text="{Binding MaintenanceMessage}"
                       FontAttributes="Bold"
                       HorizontalTextAlignment="Center" />
            </Border>

           

            <VerticalStackLayout
                Grid.Row="1"
                Grid.ColumnSpan="3"
                Grid.Column="0"
                Spacing="10"
                Padding="0, 10"
                HorizontalOptions="Fill"
                VerticalOptions="Fill">
                <Image
                    HorizontalOptions="Center"
                    Source="lecin_dark.png"
                    WidthRequest="150"/>
                <Label
                    LineBreakMode="NoWrap"
                    HorizontalOptions="Center"
                    Text="Please Sign In"
                    FontSize="24" />
            </VerticalStackLayout>

            <HorizontalStackLayout
                Grid.Row="2"
                Grid.Column="0"
                Grid.ColumnSpan="3"
                Padding="10"
                RadioButtonGroup.GroupName="RoleGroup"
                RadioButtonGroup.SelectedValue="{Binding UserType, Mode=TwoWay}"
                HorizontalOptions="Center"
                Spacing="20">
                <RadioButton Content="Student"
                             Value="{x:Static lecin:UserType.Student}" />
                <RadioButton Content="Teacher"
                             Value="{x:Static lecin:UserType.Teacher}" />
                <RadioButton Content="Admin"
                             Value="{x:Static lecin:UserType.Admin}" />
            </HorizontalStackLayout>

            <VerticalStackLayout
                Spacing="15"
                Padding="15, 0"
                Grid.Column="{OnIdiom 0, Phone=0, Tablet=0, Desktop=1}"
                Grid.ColumnSpan="{OnIdiom 3, Phone=3, Tablet=3, Desktop=1}"
                Grid.Row="3">
                <Entry Placeholder="Email"
                       Text="{Binding Email}"
                       Keyboard="Email" />
                <Entry Placeholder="Password"
                       Text="{Binding Password}"
                       IsPassword="True" />
                <Button Text="Sign In"
                        Command="{Binding LoginCommand}" />
            </VerticalStackLayout>

            <Label
                Grid.Column="1"
                Grid.Row="4"
                Text="{Binding StatusMessage}"
                HorizontalOptions="Center"
                TextColor="Red" />
        </Grid>
    </ContentPage.Content>
</pages:BaseContentPage>
